# Prometheus参数详解

| Flag                                      | Value                                | Description                                                                                                                                                                               |
|-------------------------------------------|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| --alertmanager.notification-queue-capacity| 10000                                | 警告管理器发送通知的队列容量。                                                                                                                                                              |
| --alertmanager.timeout                    |                                      | 警告管理器请求超时时间                                                                                                                                                                      |
| --config.file                             | /etc/prometheus/config_out/prometheus.env.yaml | Prometheus 配置文件所在的文件系统路径。                                                                                                                                              |
| --enable-feature                          |                                      | 要启用的 beta 功能                                                                                                                                                                          |
| --log.format                              | logfmt                               | 日志记录格式。                                                                                                                                                                            |
| --log.level                               | info                                 | Prometheus 日志记录的详细程度。                                                                                                                                                            |
| --query.lookback-delta                    | 5m                                   | 基于磁盘存储的 Prometheus 查询返回的时间范围。                                                                                                                                              |
| --query.max-concurrency                   | 20                                   | 并发查询最大允许数量。                                                                                                                                                                      |
| --query.max-samples                       | 50000000                             | 每个查询允许返回的最大值的数量。                                                                                                                                                            |
| --query.timeout                           | 2m                                   | Prometheus 查询的最大时间。                                                                                                                                                                 |
| --rules.alert.for-grace-period            | 10m                                  | 当警报状态更改时，要保持该警报状态的最小持续时间。                                                                                                                                           |
| --rules.alert.for-outage-tolerance        | 1h                                   | 警报被视为不稳定的时间，超过此时间，警报将被删除而不会重复触发。                                                                                                                                         |
| --rules.alert.resend-delay                | 1m                                   | 重新发送警报的延迟时间。                                                                                                                                                                     |
| --scrape.adjust-timestamps                | true                                 | Prometheus 是否应该调整时间戳以避免重复或重叠的样本。                                                                                                                                            |
| --scrape.discovery-reload-interval        | 5s                                   | 重新发现目标的间隔。                                                                                                                                                                        |
| --scrape.timestamp-tolerance              | 2ms                                  | 允许时间差异的时间戳精度。                                                                                                                                                                    |
| --storage.agent.no-lockfile               | false                               | 是否使用锁文件来保护元数据存储。                                                                                                                                                             |
| --storage.agent.path                      | data-agent/                          | 元数据存储的磁盘路径。                                                                                                                                                                        |
| --storage.agent.retention.max-time        | 0s                                   | 元数据保留的最大时间。                                                                                                                                                                      |
| --storage.agent.retention.min-time        | 0s                                   | 元数据保留时间的最小值。                                                                                                                                                                      |
| --storage.agent.wal-compression           | true                                 | Prometheus 是否应该对写-ahead 日志使用压缩。                                                                                                                                                  |
| --storage.agent.wal-segment-size          | 0B                                   | 写-ahead 日志的段大小。                                                                                                                                                                     |
| --storage.agent.wal-truncate-frequency    | 0s                                   | 写-ahead 日志使用的时间段。                                                                                                                                                                  |
| --storage.remote.flush-deadline           | 1m                                   | 将远程写入代理的最后写入截止时间。                                                                                                                                                             |
| --storage.remote.read-concurrent-limit    | 10                                   | 并发读取远程写入代理的最大数量。                                                                                                                                                              |
| --storage.remote.read-max-bytes-in-frame  | 1048576                              | 单个读取帧的最大字节数。                                                                                                                                                                    |
| --storage.remote.read-sample-limit        | 50000000                             | 读取远程写入代理采样的最大数据点数。                                                                                                                                                             |
| --storage.tsdb.allow-overlapping-blocks   | true                                 | 控制是否允许块重叠。                                                                                                                                                                         |
| --storage.tsdb.head-chunks-write-queue-size|0                                   | 确定在头部写入时要使用的队列大小。                                                                                                                                                               |
| --storage.tsdb.max-block-chunk-segment-size|0B                                  | 块分段最大字节数。                                                                                                                                                                          |
| --storage.tsdb.max-block-duration         | 1d                                   | 块的持续时间最大值。