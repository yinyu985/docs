import{_ as s,W as e,X as n,a0 as a}from"./framework-b4edc447.js";const i={},r=a(`<h1 id="centos7安装redis" tabindex="-1"><a class="header-anchor" href="#centos7安装redis" aria-hidden="true">#</a> centos7安装redis</h1><h2 id="方法一-通过yum安装" tabindex="-1"><a class="header-anchor" href="#方法一-通过yum安装" aria-hidden="true">#</a> 方法一：通过yum安装</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> redis
systemctl start redis
<span class="token function">vi</span> /etc/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>为了可以使Redis能被远程连接，需要修改配置文件，路径为/etc/redis.conf</p><p>首先，注释这一行：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#bind 127.0.0.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改为</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>0.0.0.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>守护进程模式运行（后台运行）</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>daemonize yes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>另外，推荐给Redis设置密码，取消注释这一行：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#requirepass foobared
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>foobared即当前密码，可以自行修改为</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>requirepass 密码
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl start redis.service <span class="token comment">#启动redis服务器</span>
systemctl stop redis.service <span class="token comment">#停止redis服务器</span>
systemctl restart redis.service <span class="token comment">#重新启动redis服务器</span>
systemctl status redis.service <span class="token comment">#获取redis服务器的运行状态</span>
systemctl <span class="token builtin class-name">enable</span> redis.service <span class="token comment">#开机启动redis服务器</span>
systemctl disable redis.service <span class="token comment">#开机禁用redis服务器</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="方法二-通过源代码安装" tabindex="-1"><a class="header-anchor" href="#方法二-通过源代码安装" aria-hidden="true">#</a> 方法二：通过源代码安装</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://download.redis.io/releases/redis-5.0.5.tar.gz
<span class="token function">tar</span> <span class="token parameter variable">-xf</span> redis-5.0.5.tar.gz <span class="token parameter variable">-C</span> <span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /data/redis-5.0.5/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>通过make来编译，make是自动编译，会根据Makefile中描述的内容来进行编译。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">make</span>
<span class="token function">make</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>实际上，就是将这个几个文件复制或链接到/usr/local/bin目录了。这样就可以直接执行这几个命令了。</p><p>如果不想安装到默认路径/user/local/bin，可以通过<code>PREFIX</code>选项指定其他路径</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@prometheus-influxdb src<span class="token punctuation">]</span><span class="token comment"># ll /usr/local/bin/</span>
总用量 <span class="token number">32736</span>
-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">4366640</span> <span class="token number">7</span>月   <span class="token number">4</span> 03:24 redis-benchmark
-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">8111896</span> <span class="token number">7</span>月   <span class="token number">4</span> 03:24 redis-check-aof
-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">8111896</span> <span class="token number">7</span>月   <span class="token number">4</span> 03:24 redis-check-rdb
-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">4806864</span> <span class="token number">7</span>月   <span class="token number">4</span> 03:24 redis-cli
lrwxrwxrwx <span class="token number">1</span> root root      <span class="token number">12</span> <span class="token number">7</span>月   <span class="token number">4</span> 03:24 redis-sentinel -<span class="token operator">&gt;</span> redis-server
-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">8111896</span> <span class="token number">7</span>月   <span class="token number">4</span> 03:24 redis-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动服务器，来看看安装是否成功。</p><p>Redis目录中会有一个配置文件<code>redis.conf</code>，我们可以基于这个文件进行修改，启动时只需指定该配置文件即可</p><p>跟方法一相同步骤设置redis的配置文件，最后，将启动命令写进开机启动项</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;&gt;</span>/etc/rc.local<span class="token operator">&lt;&lt;</span><span class="token string">EOF
redis-server /data/redis-5.0.5/redis.conf
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,28),d=[r];function l(t,c){return e(),n("div",null,d)}const p=s(i,[["render",l],["__file","centos7安装redis.html.vue"]]);export{p as default};
